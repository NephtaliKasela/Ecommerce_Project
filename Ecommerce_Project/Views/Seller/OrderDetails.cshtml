@model Ecommerce_Project.DTOs.Order.GetOrderDTO

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    //Layout = "~/Views/Shared/adminLayout.cshtml";
}

<div class="container-fluid mt-5">
    <div class="row">
        <div class="col-md-2 col-sm-12">
            <div class="mb-4">
                <ul class="nav flex-column nav-pills">
                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Seller" asp-action="Dashboard">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" asp-controller="Seller" asp-action="GetOrders">Orders</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Seller" asp-action="SellerProducts">Products</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="col-md-10 col-sm-12">
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="dashboard" role="tabpanel" aria-labelledby="categories-tab">

                    <div class="row">
                        <div class="col-xl-9 col-lg-8">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="card border-secondary">
                                        <div class="card-body border-secondary">
                                            <div class="d-flex flex-wrap justify-content-between gap-2">
                                                <div>
                                                    <h6 class="fw-medium text-dark d-flex align-items-center gap-2"><mark class="bg-secondary px-1">@Model.OrderID</mark><span class="badge bg-success-subtle text-success  px-2 py-1 fs-13">Paid</span><span class="border border-warning text-warning fs-13 px-2 py-1 rounded">In Progress</span></h6>
                                                    <p class="mb-0" style="font-size: 12px;">
                                                        Order / Order Details / @Model.OrderID - @Model.RegistrationDate.Date.ToLongDateString() at @Model.RegistrationDate.ToString("hh:mm tt")
                                                    </p>
                                                </div>
                                                <div>
                                                    <a href="#!" class="btn btn-secondary" style="font-size: 12px;">Refund</a>
                                                    <a href="#!" class="btn btn-secondary" style="font-size: 12px;">Return</a>
                                                    <a href="#!" class="btn btn-primary" style="font-size: 12px;">Edit Order</a>
                                                    <a href="#!" class="btn btn-danger" style="font-size: 12px;">Cancel</a>
                                                </div>

                                            </div>

                                            <div class="mt-4">
                                                <h4 class="font-weight-semi-bold text-dark" style="font-size: 18px;">Progress</h4>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-3 col-md-3 col-sm-6">
                                                    <div class="progress mt-3" style="height: 10px;">
                                                        <div class="progress-bar progress-bar  progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: 100%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="70">
                                                        </div>
                                                    </div>
                                                    <p class="mb-0 mt-2" style="font-size: 15px;">Order Confirming</p>
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-6">
                                                    <div class="progress mt-3" style="height: 10px;">
                                                        <div class="progress-bar progress-bar  progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: 100%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="70">
                                                        </div>
                                                    </div>
                                                    <p class="mb-0 mt-2" style="font-size: 15px;">Payment</p>
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-6">
                                                    @{
                                                        if(Model.Status == Status.Pending.ToString())
                                                        {
                                                            <div class="progress mt-3" style="height: 10px;">
                                                                <div class="progress-bar progress-bar  progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: 60%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="70">
                                                                </div>
                                                            </div>
                                                            <div class="d-flex align-items-center gap-2 mt-2" style="font-size: 15px;">
                                                                <p class="mb-0 mr-2">Processing</p>
                                                                <div class="spinner-border spinner-border-sm text-warning" role="status">
                                                                </div>
                                                            </div>
                                                        }
                                                        else
                                                        {
                                                            <div class="progress mt-3" style="height: 10px;">
                                                                <div class="progress-bar progress-bar  progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                                                                </div>
                                                            </div>
                                                            <div class="d-flex align-items-center gap-2 mt-2" style="font-size: 15px;">
                                                                <p class="mb-0">Processing</p>
                                                            </div>
                                                        }
                                                    }
                                                    
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-6">
                                                    @{
                                                        if (Model.Status == Status.Pending.ToString())
                                                        {
                                                            <div class="progress mt-3" style="height: 10px;">
                                                                <div class="progress-bar progress-bar  progress-bar-striped progress-bar-animated bg-primary" role="progressbar" style="width: 0%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="70">
                                                                </div>
                                                            </div>
                                                            <p class="mb-0 mt-2" style="font-size: 15px;">Shipping</p>
                                                        }
                                                        else
                                                        {
                                                            <div class="progress mt-3" style="height: 10px;">
                                                                <div class="progress-bar progress-bar  progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: 60%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="70">
                                                                </div>
                                                            </div>
                                                            <div class="d-flex align-items-center gap-2 mt-2" style="font-size: 15px;">
                                                                <p class="mb-0 mr-2" style="font-size: 15px;">Shipping</p>
                                                                <div class="spinner-border spinner-border-sm text-warning" role="status" >
                                                                </div>
                                                            </div>
                                                        }
                                                    }
                                                    
                                                </div>
                                                <div class="col">
                                                    <div class="progress mt-3" style="height: 10px;">
                                                        <div class="progress-bar progress-bar  progress-bar-striped progress-bar-animated bg-primary" role="progressbar" style="width: 0%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="70">
                                                        </div>
                                                    </div>
                                                    <p class="mb-0 mt-2" style="font-size: 15px;">Delivered</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-footer d-flex flex-wrap align-items-center justify-content-between bg-transparent gap-2">
                                            @{

                                                DateTime estimatedTime = @Model.RegistrationDate.AddDays(3);
                                            }
                                            <p class="border rounded mb-0 px-2 py-1 "><i class='bx bx-arrow-from-left align-middle fs-16'></i> Estimated shipping date : <span class="text-dark fw-medium">@estimatedTime.ToString("MMMM dd, yyyy")</span></p>
                                            <div>
                                                @{
                                                    if (Model.Status == Status.Pending.ToString())
                                                    {
                                                        <a asp-controller="Seller" asp-action="MakeOrderReadyToShip" asp-route-orderId="@Model.Id" class="btn btn-outline-primary" style="font-size: 15px;">Make As Ready To Ship</a>
                                                    }
                                                    else
                                                    {
                                                        <a href="#!" class="btn btn-outline-primary disabled" style="font-size: 15px;">Make As Ready To Ship</a>
                                                    }
                                                }
                                                
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card bg-transparent border-secondary mt-4 mb-4">
                                        <div class="card-header bg-transparent border-secondary border-0">
                                            <div class="d-flex justify-content-between bg-transparent">
                                                <h5 class="card-title">Product</h5>
                                                <div class="p-2 border-secondary" style="border: 1px solid; border-radius: 5px 5px 5px 5px;">
                                                    @{
                                                        if (Model.Product.ProductImages.Count > 0)
                                                        {
                                                            var image = Model.Product.ProductImages[0];
                                                            <img src="data:@image.ContentType;base64,@System.Convert.ToBase64String(image.ImageData)" class="img-fluid" style="height: auto; max-height: 50px;" alt="@Model.Product.Name">

                                                        }
                                                        else
                                                        {
                                                            <img src="~/007-eshopper-1.0.0/img/b9f2193028967077ad84b60a2cced514-removebg-preview.png" class="img-fluid" style="height: auto; max-height: 50px;" alt="Product Image">

                                                        }
                                                    }
                                                </div>
                                            </div>
                                            
                                        </div>
                                        <div class="card-body pt-0">
                                            <div class="table-responsive">
                                                <table class="table align-middle mb-0 table-centered">
                                                    <thead class="bg-secondary border-bottom">
                                                        <tr>
                                                            <th>Name</th>
                                                            <th>Status</th>
                                                            <th style="text-align:center;">Quantity</th>
                                                            <th>Price</th>
                                                            <th>Tax</th>
                                                            <th>Amount</th>
                                                            <th>Dicount</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>@Model.Product.Name</td>

                                                            <td>
                                                                <span class="badge bg-success-subtle text-success  px-2 py-1 fs-13">Ready</span>
                                                            </td>
                                                            <td style="text-align:center;">@Model.Quantity</td>
                                                            <td>$@Model.Price</td>
                                                            <td> $0.00</td>
                                                            <td>$@Model.Amount</td>
                                                            <td>$@Model.Discount</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card border-secondary bg-light-subtle mb-4">
                                        <div class="card-body">
                                            <div class="row g-3 g-lg-0">
                                                <div class="col-lg-4 border-end">
                                                    <div class="d-flex align-items-center gap-3 justify-content-between px-3">
                                                        <div>
                                                            <p class="text-dark fw-medium fs-16 mb-1">Date</p>
                                                            <p class="mb-0">
                                                                @Model.RegistrationDate.ToString("MMMM dd, yyyy")
                                                            </p>
                                                        </div>
                                                        <div class="avatar bg-light d-flex align-items-center justify-content-center rounded">
                                                            <i class="fa fa-calendar bg-secondary text-primary p-2" style="font-size: 20px; text-align:center;  border-radius: 10px;"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 border-end">
                                                    <div class="d-flex align-items-center gap-3 justify-content-between px-3">
                                                        <div class="overflow-hidden">
                                                            <p class="text-dark fw-medium fs-16 mb-1">Paid By</p>
                                                            <p class="mb-0">@Model.ApplicationUser.UserName</p>
                                                        </div>
                                                        <div class="avatar bg-light d-flex align-items-center justify-content-center rounded">
                                                            <i class="fa fa-user bg-secondary text-primary p-2" style="font-size: 20px; text-align:center;  border-radius: 10px;"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4">
                                                    <div class="d-flex align-items-center gap-3 justify-content-between px-3">
                                                        <div>
                                                            <p class="text-dark fw-medium fs-16 mb-2">Order ID</p>
                                                            <p class="mb-0"><mark class="bg-secondary px-2">@Model.OrderID</mark></p>
                                                        </div>
                                                        <div class="avatar bg-light d-flex align-items-center justify-content-center rounded">
                                                            <i class="fa fa-unlock bg-secondary text-primary p-2" style="font-size: 20px; text-align:center;  border-radius: 10px;"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-4">
                            <div class="card border-secondary">
                                <div class="card-header border-secondary bg-secondary pb-0">
                                    <h5 class="card-title">Order Summary</h5>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table mb-0">
                                            <tbody>
                                                <tr>
                                                    <td class="px-0">
                                                        <p class="d-flex mb-0 align-items-center gap-1" style="font-size: 15px;"><iconify-icon icon="solar:clipboard-text-broken"></iconify-icon> Sub Total : </p>
                                                    </td>
                                                    <td class="text-end text-dark fw-medium px-0">$@Model.Amount</td>
                                                </tr>
                                                <tr>
                                                    <td class="px-0">
                                                        <p class="d-flex mb-0 align-items-center gap-1" style="font-size: 15px;"><iconify-icon icon="solar:ticket-broken" class="align-middle"></iconify-icon> Discount : </p>
                                                    </td>
                                                    <td class="text-end text-dark fw-medium px-0">-$00.00</td>
                                                </tr>
                                                <tr>
                                                    <td class="px-0">
                                                        <p class="d-flex mb-0 align-items-center gap-1" style="font-size: 15px;"><iconify-icon icon="solar:kick-scooter-broken" class="align-middle"></iconify-icon> Delivery Charge : </p>
                                                    </td>
                                                    <td class="text-end text-dark fw-medium px-0">$00.00</td>
                                                </tr>
                                                <tr>
                                                    <td class="px-0">
                                                        <p class="d-flex mb-0 align-items-center gap-1" style="font-size: 15px;"><iconify-icon icon="solar:calculator-minimalistic-broken" class="align-middle"></iconify-icon> Estimated Tax (0%) : </p>
                                                    </td>
                                                    <td class="text-end text-dark fw-medium px-0">$00.00</td>
                                                </tr>

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="card-footer d-flex align-items-center justify-content-between bg-secondary border-secondary">
                                    <div>
                                        <p class="fw-medium text-dark mb-0">Total Amount</p>
                                    </div>
                                    <div>
                                        <p class="font-weight-semi-bold text-dark mb-0">$@Model.Amount</p>
                                    </div>

                                </div>
                            </div>

                            <div class="card border-secondary mt-4">
                                <div class="card-header border-secondary bg-secondary pb-0">
                                    <h5 class="card-title">Payment Information</h5>
                                </div>
                                <div class="card-body border-secondary">
                                    <div class="d-flex align-items-center gap-3 mb-3">
                                        <i class="fa fa-credit-card bg-secondary text-primary p-3" style="font-size: 25px; text-align:center;  border-radius: 10px;"></i>
                                        <div>
                                            <p class="mb-1 text-dark" style="font-size: 15px;">Master Card</p>
                                            <p class="mb-0 text-dark">xxxx xxxx xxxx 7812</p>
                                        </div>
                                        <div class="ms-auto">
                                            <iconify-icon icon="solar:check-circle-broken" class="fs-22 text-success"></iconify-icon>
                                        </div>
                                    </div>
                                    <p class="text-dark mb-1 fw-medium" style="font-size: 15px;">Transaction ID : <span class="text-muted fw-normal fs-13"> #IDN768139059</span></p>
                                    <p class="text-dark mb-0 fw-medium" style="font-size: 15px;">Card Holder Name : <span class="text-muted fw-normal fs-13"> Gaston Lapierre</span></p>

                                </div>
                            </div>

                            <div class="card border-secondary mt-4">
                                <div class="card-header border-secondary bg-secondary pb-0">
                                    <h5 class="card-title">Customer Details</h5>
                                </div>
                                <div class="card-body">
                                    <div class="d-flex align-items-center gap-2">
                                        <div class="d-flex justify-content-center align-items-center rounded mr-3" style="text-align: center;">
                                            <i class="fa fa-user bg-secondary text-primary p-3" style="font-size: 20px; border-radius: 10px;"></i>
                                        </div>
                                        <div>
                                            <p class="mb-1">@Model.FirstName</p>
                                            <p class="mb-1">@Model.LastName</p>
                                        </div>
                                    </div>

                                    <div class="mt-3">
                                        <p class="text-dark mb-1 fw-medium" style="font-size: 15px;">Email :</p>
                                        <p><span class="text-muted fw-normal fs-13"> @Model.Email</span></p>
                                    </div>

                                    <div class="mt-3">
                                        <p class="text-dark mb-1 fw-medium" style="font-size: 15px;">Phone number :</p>
                                        <p><span class="text-muted fw-normal fs-13"> @Model.PhoneNumber</span></p>
                                    </div>

                                    <div class="mt-3">
                                        <p class="text-dark mb-1 fw-medium" style="font-size: 15px;">Shipping Address :</p>
                                        <div class="d-flex justify-content-between">
                                            <p class="m-0"><span class="text-muted fw-normal fs-13 m-0">Country :</span></p>
                                            <p class="m-0"><span class="text-muted fw-normal fs-13 m-0"> @Model.Country.Name</span></p>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <p class="m-0"><span class="text-muted fw-normal fs-13 m-0">City :</span></p>
                                            <p class="m-0"><span class="text-muted fw-normal fs-13 m-0"> @Model.City</span></p>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <p class="m-0"><span class="text-muted fw-normal fs-13 m-0">Zip code :</span></p>
                                            <p class="m-0"><span class="text-muted fw-normal fs-13 m-0"> @Model.ZipCode</span></p>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <p class="m-0"><span class="text-muted fw-normal fs-13 m-0">Address :</span></p>
                                            <p class="m-0"><span class="text-muted fw-normal fs-13 m-0"> @Model.AddressLine1</span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


